# Asoul-bot
一个基于nonebot2和go-cqhttp的Asoul-bot开源项目，包含了一系列的小功能，可以轻量化的部署在本地从而实现一个有关Asoul的群聊bot。
**作者：ZamoniaTargaryen**
**项目链接：[https://github.com/ZamoniaTargaryen/Asoul-bot](https://github.com/ZamoniaTargaryen/Asoul-bot)**

---

@[TOC](目录)

---

## 配置运行

1. 首先配置go-cqhttp客户端，按照说明编辑 `config.yml` 文件。输入账号密码，以及反向WS设置的universal地址，并且监控地址和端口应与 `.env` 文件中的`HOST`与`PORT`项匹配；
2. 配置bot的 `global.json` 和 `.env` 文件， `global.json` 中包含了使用的一些全局变量，`test_group` 为测试通知群群号，输入后bot会向其中发送表情包本地数据更新等的消息，`all` 为发送包含Asoul和七海消息的群号，`no_shark` 为发送仅包含Asoul消息的群号，其余参数可不修改。
3. 使用指令 `nb run --file=bot.py` 启动bot；
4. 运行go-cqhttp客户端，第一次可能需要扫码登陆；
5. bot运行完毕，即刻享受Asoul-bot的各项功能吧！

## 功能实现
1. 使用方法：@bot然后输入命令，如 `@bot help` 即可唤出帮助菜单；
- 输入关键词：指@bot然后输入的语句中带有关键词即可，如`@bot 有什么功能` 也可以唤出帮助菜单；
- 输入指令：指@bot后必须以“命令+参数”的形式才能触发，如`@bot 冷笑话`才可以获取随机冷笑话， `@bot 来点冷笑话` 并不可以达到这个效果；
2. 已实现功能：
  - 输入关键词 “帮助/help/功能” 获取帮助菜单
 > 回复一个文字形式的帮助菜单
  - 输入指令   “冷笑话/笑话” 获取随机冷笑话
 > 回复一个冷笑话
  - 输入关键词 “运势+空格/逗号+版本强势CP名/人物” 获取该人物/CP今日运势
> 回复一个0-100之间的数字，数字越高运势越好；另外，输入“版本强势CP名/人物+空格/逗号+运势”也可以获得该人物/CP今日运势，其中逗号中英文均可
  - 输入关键词 “日程表” 获取本周日程表
>  回复一张本周日程表的图片
  - 输入指令   “实时粉丝数/粉丝数” 获取AS五人+阿草+海子姐实时粉丝数
>  回复的粉丝数精确到个位数
>  警告：该功能应当尽可能少地被使用！
  - 输入指令   “人品/运势” 获取你今日的运势
>  回复一个0-100之间的数字，数字越高运势越好
  - 输入指令   “remake/重开” 获取重开结果
>  回复重开后的结果，如嘉然小姐的狗
  - 输入关键词 “QA/qa” 获取本周QA
>  回复一个链接，指向本周的QA
  - 输入关键词 “午饭/晚饭/夜宵/吃”等 获取你到底吃啥（带学生不吃早饭和下午茶！）
>  回复一种食物
>  如果询问的是早饭和下午茶则会有彩蛋
  - 输入指令   “小作文” 获取随机小作文
>  回复一个小作文链接
  - 输入指令   “狗屁不通”+空格+主题 生成一段狗屁不通的文章
>  回复一段狗屁不通的文章
  - 输入指令   “概率”+空格+事件 获取某事发生的概率（如果包含有“你”“我”等关键词则与用户或bot绑定，每人不同，否则则为全局概率，与输入者无关，每人不同
>  回复一个0-100%的概率
>  如果包含有关键词“我”则与用户绑定，有关键词“你”则与bot绑定。绑定是指，不同的人输入后得到的概率不同。否则则为全局概率，与输入者无关，即不同的人输入后得到的概率一致。
  - 输入指令   “绝绝子”+空格+事件 生成绝绝子小短文
>  回复一段带emoji表情绝绝子小短文
  - 输入指令   “匹配”+空格+匹配对象 测试你和ta的匹配程度吧
>  回复一个0-100%之间的数字，数字越高匹配程度越高
  - 输入指令   “表情包” 获取随机表情包
>  回复一个随机表情包，表情包并不存储在本地，本地只存储表情包链接
>  感谢洛骑塔的收集
  - 输入指令   “切片” 获取随机切片
>  回复一个随机切片的链接
>  感谢贾布加布和珈然今晚吃奶贝两位切片man
  - 输入指令   “识图”+空格+图片 返回百度识图结果
>  回复一张图片的百度识图结果
>  有待完善
3. 推送功能：
  - 开播提醒
>  查询是否开播，开播即在群内推送直播间链接、标题以及直播间头图
  - 动态发布提醒
>  查询是否发送动态，若有新动态即在群内推送动态链接、动态截图，需要chromedriver支持，应当与你的Chrome版本相匹配
  - 日程表发布提醒
>  查询是否有新日程表，若有新日程表即在群内推送日程表图片
  - 抖音小视频发布提醒
>  查询是否有新抖音视频，若有新抖音视频即在群内推送抖音视频链接
 
## 注意事项
1. 本项目基于AGPL协议开源
2. 本项目的开源、二次使用都应当遵守中华人民共和国的法律法规
3. 本项目的开源、二次使用应当遵守A-SOUL_Official的最新版二创规则声明
4. 本项目的开源、二次使用都应当不包含对其他人的诋毁、拉踩

## 作者及主要贡献者
1. ZamoniaTargaryen
2. JackFishxxx

## 参考链接
1. [go-cqhttp Github](https://github.com/Mrs4s/go-cqhttp)
2. [nonebot2 Document](https://v2.nonebot.dev/)
3. [原版bot (现已合并)](https://github.com/ZamoniaTargaryen/Asoul-bot)
4. [平台迁移后bot](https://github.com/JackFishxxx/Asoul-bot)
5. [二创规则说明4.0](https://www.bilibili.com/read/cv12242629)
6. [二创规则说明4.0更新](https://www.bilibili.com/read/cv12242629)

